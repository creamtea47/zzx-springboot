<!-- å®šä¹‰æ—¥å¿—è¾“å‡ºæ ¼å¼å’Œå­˜å‚¨è·¯å¾„ -->
<configuration>
    <!--
        %date è¡¨ç¤ºæ—¥æœŸ
        %thread è¡¨ç¤ºçº¿ç¨‹å
        %- 5level è¡¨ç¤ºçº§åˆ«ä»Žå·¦æ˜¾ç¤º5ä¸ªå­—ç¬¦å®½åº¦
        %logger{36} è¡¨ç¤º logger åå­—æœ€é•¿36ä¸ªå­—ç¬¦
        %msg è¡¨ç¤ºæ—¥å¿—æ¶ˆæ¯
        %n æ˜¯æ¢è¡Œç¬¦ã€‚
    -->
    <property name="LOG_PATTERN"
              value="%magenta(%date{yyyy-MM-dd HH:mm:ss}) ðŸš§ %highlight(%-5level)ðŸ“¦ %yellow([%t]) %green(%logger:%line) ðŸŽ¯ %white(%msg) ðŸ“%cyan([%L]%n)"/>
    <property name="LOG_HOME" value="logs"/>
    <property name="FILE_PATH"
              value="${LOG_HOME}/%d{yyyy-MM-dd}.%i.log"/>

    <!-- å®šä¹‰æŽ§åˆ¶å°è¾“å‡º -->
    <appender name="CONSOLE" class="ch.qos.logback.core.ConsoleAppender">
        <encoder>
            <!-- æŒ‰ç…§ä¸Šé¢é…ç½®çš„LOG_PATTERNæ¥æ‰“å°æ—¥å¿— -->
            <pattern>${LOG_PATTERN}</pattern>
        </encoder>
    </appender>

    <!-- å®šä¹‰æ—¥å¿—æ–‡ä»¶çš„ç›¸å…³å‚æ•° -->
    <!--
        å®šä¹‰ä¸€ä¸ªåä¸º â€œFILEâ€ çš„æ–‡ä»¶é…ç½®ï¼Œ
        ä¸»è¦æ˜¯é…ç½®æ—¥å¿—æ–‡ä»¶ä¿å­˜çš„æ—¶é—´ã€
        å•ä¸ªæ—¥å¿—æ–‡ä»¶å­˜å‚¨çš„å¤§å°ã€
        ä»¥åŠæ–‡ä»¶ä¿å­˜çš„è·¯å¾„å’Œæ—¥å¿—çš„è¾“å‡ºæ ¼å¼ã€‚
    -->
    <appender name="FILE" class="ch.qos.logback.core.rolling.RollingFileAppender">
        <rollingPolicy class="ch.qos.logback.core.rolling.TimeBasedRollingPolicy"> <!-- æŒ‰ç…§ä¸Šé¢é…ç½®çš„FILE_PATHè·¯å¾„æ¥ä¿å­˜æ—¥å¿— -->
            <fileNamePattern>${FILE_PATH}</fileNamePattern>
            <!-- æ—¥å¿—ä¿å­˜15å¤© -->
            <maxHistory>15</maxHistory>
            <timeBasedFileNamingAndTriggeringPolicy class="ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP">
                <!-- å•ä¸ªæ—¥å¿—æ–‡ä»¶çš„æœ€å¤§ï¼Œè¶…è¿‡åˆ™æ–°å»ºæ—¥å¿—æ–‡ä»¶å­˜å‚¨ -->
                <maxFileSize>10MB</maxFileSize>
            </timeBasedFileNamingAndTriggeringPolicy>
        </rollingPolicy>
        <encoder>
            <!-- æŒ‰ç…§ä¸Šé¢é…ç½®çš„LOG_PATTERNæ¥æ‰“å°æ—¥å¿— -->
            <pattern>${LOG_PATTERN}</pattern>
        </encoder>
    </appender>

    <!-- å®šä¹‰æ—¥å¿—è¾“å‡ºçº§åˆ« -->
    <!-- å®šä¹‰ä¸€ä¸‹é¡¹ç›®ä¸­é»˜è®¤çš„æ—¥å¿—è¾“å‡ºçº§åˆ«ï¼Œè¿™é‡Œå®šä¹‰çº§åˆ«ä¸º INFO -->
    <logger name="com.example.springboothelloworld" level="INFO"/>
    <root level="INFO">
        <appender-ref ref="CONSOLE"/>
        <appender-ref ref="FILE"/>
    </root>
</configuration>
